<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>BrokerZ — Property Details</title>
  <meta name="description" content="View complete property details, photo gallery, and zoomable listing images." />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet" />
  <style>
    :root {
      --bg: #fffdf7;
      --surface: #ffffff;
      --surface-hover: #fff6df;
      --border: rgba(140, 104, 12, 0.2);
      --text: #1f2329;
      --text-muted: #6f7684;
      --accent: #e8a317;
      --accent-dim: #c48912;
      --radius: 14px;
      --radius-sm: 10px;
      --shadow: 0 16px 36px rgba(140, 104, 12, 0.16);
    }

    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: "Plus Jakarta Sans", ui-sans-serif, system-ui, sans-serif;
      background: var(--bg);
      color: var(--text);
      overflow-x: hidden;
    }

    .header {
      position: sticky;
      top: 0;
      z-index: 20;
      background: rgba(255, 253, 247, 0.92);
      backdrop-filter: blur(12px);
      border-bottom: 1px solid var(--border);
    }
    .header-inner {
      max-width: 1180px;
      margin: 0 auto;
      padding: 14px 24px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .logo {
      font-size: 1.45rem;
      font-weight: 800;
      color: var(--text);
      text-decoration: none;
      letter-spacing: -0.03em;
    }
    .logo span { color: var(--accent); }
    .back-link {
      text-decoration: none;
      color: var(--text-muted);
      font-weight: 600;
      border: 1px solid var(--border);
      border-radius: var(--radius-sm);
      padding: 8px 12px;
      background: var(--surface);
    }
    .back-link:hover {
      color: var(--text);
      background: var(--surface-hover);
    }
    .lang-toggle {
      text-decoration: none;
      color: var(--text);
      font-weight: 700;
      border: 1px solid var(--border);
      border-radius: var(--radius-sm);
      padding: 8px 12px;
      background: #fff9ed;
      font-family: inherit;
      cursor: pointer;
    }

    .page {
      max-width: 1180px;
      margin: 0 auto;
      padding: 28px 24px 40px;
      display: grid;
      grid-template-columns: 1.2fr 0.8fr;
      gap: 24px;
    }
    .gallery-card,
    .info-card {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
    }
    .gallery-card { padding: 12px; }
    .main-image-btn {
      width: 100%;
      border: 0;
      padding: 0;
      cursor: zoom-in;
      border-radius: 12px;
      overflow: hidden;
      background: #f8f0dd;
      line-height: 0;
    }
    .main-image {
      width: 100%;
      aspect-ratio: 16 / 10;
      object-fit: cover;
      display: block;
    }
    .thumb-grid {
      margin-top: 12px;
      display: grid;
      grid-template-columns: repeat(4, minmax(0, 1fr));
      gap: 10px;
    }
    .thumb-btn {
      border: 2px solid transparent;
      border-radius: 10px;
      overflow: hidden;
      padding: 0;
      cursor: pointer;
      background: #f8f0dd;
      line-height: 0;
    }
    .thumb-btn.active { border-color: var(--accent); }
    .thumb-img {
      width: 100%;
      aspect-ratio: 4 / 3;
      object-fit: cover;
      display: block;
    }

    .info-card { padding: 22px; }
    .type-pill {
      display: inline-block;
      margin-bottom: 10px;
      padding: 6px 12px;
      border-radius: 999px;
      font-size: 0.78rem;
      font-weight: 700;
      letter-spacing: 0.05em;
      text-transform: uppercase;
      background: rgba(232, 163, 23, 0.15);
      color: #a06a0a;
    }
    h1 {
      margin: 0 0 8px;
      font-size: clamp(1.5rem, 3.2vw, 2.1rem);
      letter-spacing: -0.03em;
      line-height: 1.15;
    }
    .location {
      margin: 0 0 12px;
      color: var(--text-muted);
    }
    .price {
      margin: 0 0 12px;
      font-size: 1.35rem;
      color: var(--accent);
      font-weight: 700;
    }
    .description {
      margin: 0 0 14px;
      color: var(--text-muted);
    }
    .features {
      margin: 0 0 20px;
      padding-left: 18px;
    }
    .features li { margin: 6px 0; }
    .actions {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }
    .btn {
      border: 0;
      border-radius: var(--radius-sm);
      padding: 11px 16px;
      font-family: inherit;
      font-weight: 600;
      cursor: pointer;
      text-decoration: none;
      display: inline-block;
    }
    .btn-primary {
      background: linear-gradient(135deg, var(--accent), var(--accent-dim));
      color: #1f2329;
    }
    .btn-secondary {
      border: 1px solid var(--border);
      background: #fff9ed;
      color: var(--text);
    }

    .zoom-modal {
      position: fixed;
      inset: 0;
      background: rgba(20, 16, 10, 0.88);
      display: none;
      z-index: 50;
      align-items: center;
      justify-content: center;
      padding: 14px;
    }
    .zoom-modal.open { display: flex; }
    .zoom-wrap {
      width: min(1100px, 100%);
      height: min(86vh, 780px);
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      border-radius: 14px;
      border: 1px solid rgba(255, 255, 255, 0.2);
      background: rgba(0, 0, 0, 0.35);
    }
    .zoom-image {
      max-width: 100%;
      max-height: 100%;
      transform-origin: center center;
      transition: transform 0.12s ease;
      cursor: zoom-in;
      user-select: none;
    }
    .zoom-toolbar {
      position: absolute;
      top: 14px;
      right: 14px;
      display: flex;
      gap: 8px;
    }
    .zoom-control {
      border: 1px solid rgba(255, 255, 255, 0.25);
      background: rgba(20, 20, 20, 0.8);
      color: #fff;
      border-radius: 8px;
      min-width: 40px;
      height: 40px;
      font-size: 1rem;
      cursor: pointer;
    }
    .zoom-nav {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      border: 1px solid rgba(255, 255, 255, 0.35);
      background: rgba(20, 20, 20, 0.72);
      color: #fff;
      width: 46px;
      height: 46px;
      border-radius: 999px;
      font-size: 1.25rem;
      cursor: pointer;
      display: grid;
      place-items: center;
    }
    .zoom-nav-left { left: 12px; }
    .zoom-nav-right { right: 12px; }
    .zoom-hint {
      position: absolute;
      left: 14px;
      bottom: 14px;
      color: #fff;
      font-size: 0.9rem;
      opacity: 0.9;
    }

    @media (max-width: 920px) {
      .page {
        grid-template-columns: 1fr;
      }
      .thumb-grid {
        grid-template-columns: repeat(3, minmax(0, 1fr));
      }
    }

    @media (max-width: 640px) {
      .header-inner {
        flex-wrap: wrap;
        gap: 10px;
        padding: 12px 14px;
      }
      .back-link,
      .lang-toggle { width: 100%; text-align: center; }
      .page { padding: 16px 14px 28px; gap: 14px; }
      .gallery-card { padding: 10px; }
      .info-card { padding: 16px; }
      .thumb-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); gap: 8px; }
      .actions { flex-direction: column; }
      .actions .btn { width: 100%; text-align: center; }
      .zoom-wrap {
        width: 100%;
        height: min(80vh, 600px);
      }
      .zoom-toolbar {
        top: 10px;
        right: 10px;
        gap: 6px;
      }
      .zoom-control {
        min-width: 36px;
        height: 36px;
      }
      .zoom-nav {
        width: 38px;
        height: 38px;
        font-size: 1rem;
      }
      .zoom-nav-left { left: 8px; }
      .zoom-nav-right { right: 8px; }
      .zoom-hint {
        left: 10px;
        right: 10px;
        bottom: 10px;
        font-size: 0.8rem;
      }
    }
  </style>
</head>
<body>
  <header class="header">
    <div class="header-inner">
      <a href="index.html?reset=1" class="logo">Broker<span>Z</span></a>
      <button type="button" class="lang-toggle" id="lang-toggle">AR</button>
      <a href="index.html#listings" class="back-link" id="back-link">Back to listings</a>
    </div>
  </header>

  <main class="page">
    <section class="gallery-card">
      <button type="button" class="main-image-btn" id="main-image-btn" aria-label="Open image zoom viewer">
        <img id="main-image" class="main-image" src="" alt="" />
      </button>
      <div id="thumb-grid" class="thumb-grid"></div>
    </section>

    <aside class="info-card">
      <div id="property-type" class="type-pill"></div>
      <h1 id="property-title"></h1>
      <p id="property-location" class="location"></p>
      <p id="property-price" class="price"></p>
      <p id="property-description" class="description"></p>
      <ul id="property-features" class="features"></ul>
      <div class="actions">
        <a class="btn btn-primary" href="#" id="tour-btn">Request a tour</a>
        <a class="btn btn-secondary" href="#" id="contact-btn">Contact agent</a>
      </div>
    </aside>
  </main>

  <div class="zoom-modal" id="zoom-modal" role="dialog" aria-modal="true" aria-label="Image zoom viewer">
    <div class="zoom-wrap">
      <button type="button" class="zoom-nav zoom-nav-left" id="zoom-prev" aria-label="Previous image">&#10094;</button>
      <img id="zoom-image" class="zoom-image" src="" alt="" />
      <button type="button" class="zoom-nav zoom-nav-right" id="zoom-next" aria-label="Next image">&#10095;</button>
      <div class="zoom-toolbar">
        <button type="button" class="zoom-control" id="zoom-out" aria-label="Zoom out">-</button>
        <button type="button" class="zoom-control" id="zoom-in" aria-label="Zoom in">+</button>
        <button type="button" class="zoom-control" id="zoom-close" aria-label="Close viewer">x</button>
      </div>
      <p class="zoom-hint" id="zoom-hint">Use left/right arrows to switch photos, wheel or + / - to zoom</p>
    </div>
  </div>

  <script>
    (function () {
      var properties = {
        "loft-downtown": {
          type: "Rent",
          title: "Luxury loft in downtown",
          location: "Cairo, Egypt",
          price: "$2,400 / month",
          description: "Open-concept loft with natural light and close access to subway lines, cafes, and coworking spaces.",
          features: ["1 bed", "1 bath", "900 sq ft", "24/7 concierge", "Rooftop lounge"],
          images: [
            "https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=1200&q=80",
            "https://images.unsplash.com/photo-1493809842364-78817add7ffb?w=1200&q=80",
            "https://images.unsplash.com/photo-1484154218962-a197022b5858?w=1200&q=80",
            "https://images.unsplash.com/photo-1505693416388-ac5ce068fe85?w=1200&q=80"
          ]
        },
        "family-house-garden": {
          type: "For Sale",
          title: "Family house with garden",
          location: "New Cairo, Egypt",
          price: "$485,000",
          description: "Spacious family-friendly home in a quiet neighborhood near top schools and parks.",
          features: ["4 beds", "3 baths", "2,450 sq ft", "Large backyard", "2-car garage"],
          images: [
            "https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=1200&q=80",
            "https://images.unsplash.com/photo-1572120360610-d971b9d7767c?w=1200&q=80",
            "https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?w=1200&q=80",
            "https://images.unsplash.com/photo-1512918728675-ed5a9ecdebfd?w=1200&q=80"
          ]
        },
        "cozy-2br-beach": {
          type: "Rent",
          title: "Cozy 2BR by the beach",
          location: "Alexandria, Egypt",
          price: "$1,850 / month",
          description: "A bright beachside apartment with modern finishes and quick access to the boardwalk.",
          features: ["2 beds", "2 baths", "1,050 sq ft", "Balcony", "Pet friendly"],
          images: [
            "https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?w=1200&q=80",
            "https://images.unsplash.com/photo-1616594039964-3a5f1f8b9c01?w=1200&q=80",
            "https://images.unsplash.com/photo-1560185007-5f0bb1866cab?w=1200&q=80",
            "https://images.unsplash.com/photo-1560448204-603b3fc33ddc?w=1200&q=80"
          ]
        },
        "modern-villa-pool": {
          type: "For Sale",
          title: "Modern villa with pool",
          location: "Giza, Egypt",
          price: "$1.2M",
          description: "Contemporary villa with expansive indoor-outdoor living and a private resort-style pool.",
          features: ["5 beds", "4 baths", "3,900 sq ft", "Infinity pool", "Smart home system"],
          images: [
            "https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=1200&q=80",
            "https://images.unsplash.com/photo-1600607687644-c7171b42498f?w=1200&q=80",
            "https://images.unsplash.com/photo-1600047509782-20d39509f26d?w=1200&q=80",
            "https://images.unsplash.com/photo-1599423300746-b62533397364?w=1200&q=80"
          ]
        },
        "city-view-penthouse": {
          type: "Rent",
          title: "City view penthouse",
          location: "New Administrative Capital, Egypt",
          price: "$3,200 / month",
          description: "High-rise penthouse featuring skyline views, premium appliances, and private elevator access.",
          features: ["3 beds", "2 baths", "1,600 sq ft", "Floor-to-ceiling windows", "Fitness center"],
          images: [
            "https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=1200&q=80",
            "https://images.unsplash.com/photo-1480074568708-e7b720bb3f09?w=1200&q=80",
            "https://images.unsplash.com/photo-1493666438817-866a91353ca9?w=1200&q=80",
            "https://images.unsplash.com/photo-1618219908412-a29a1bb7b86e?w=1200&q=80"
          ]
        },
        "suburban-4br-home": {
          type: "For Sale",
          title: "Suburban 4BR home",
          location: "Hurghada, Egypt",
          price: "$620,000",
          description: "Move-in-ready suburban home with refreshed interiors, large kitchen, and flexible office space.",
          features: ["4 beds", "3 baths", "2,700 sq ft", "Home office", "Finished basement"],
          images: [
            "https://images.unsplash.com/photo-1600047509807-ba8f99d2cdde?w=1200&q=80",
            "https://images.unsplash.com/photo-1600566753190-17f0baa2a6c3?w=1200&q=80",
            "https://images.unsplash.com/photo-1600607686527-6fb886090705?w=1200&q=80",
            "https://images.unsplash.com/photo-1600607688969-a5bfcd646154?w=1200&q=80"
          ]
        }
      };

      var params = new URLSearchParams(window.location.search);
      var id = params.get("id") || "loft-downtown";
      var data = properties[id] || properties["loft-downtown"];
      var currentLanguage = localStorage.getItem('brokerz_lang') || ((navigator.language || '').toLowerCase().indexOf('ar') === 0 ? 'ar' : 'en');
      var activeData = data;
      var imageIndex = 0;
      var zoom = 1;

      var mainImage = document.getElementById("main-image");
      var mainButton = document.getElementById("main-image-btn");
      var thumbGrid = document.getElementById("thumb-grid");
      var typeEl = document.getElementById("property-type");
      var titleEl = document.getElementById("property-title");
      var locationEl = document.getElementById("property-location");
      var priceEl = document.getElementById("property-price");
      var descriptionEl = document.getElementById("property-description");
      var featuresEl = document.getElementById("property-features");

      var zoomModal = document.getElementById("zoom-modal");
      var zoomImage = document.getElementById("zoom-image");
      var zoomInBtn = document.getElementById("zoom-in");
      var zoomOutBtn = document.getElementById("zoom-out");
      var zoomCloseBtn = document.getElementById("zoom-close");
      var zoomPrevBtn = document.getElementById("zoom-prev");
      var zoomNextBtn = document.getElementById("zoom-next");
      var langToggle = document.getElementById("lang-toggle");

      var i18n = {
        en: {
          pageTitlePrefix: "BrokerZ — ",
          back: "Back to listings",
          tour: "Request a tour",
          contact: "Contact agent",
          zoomHint: "Use left/right arrows to switch photos, wheel or + / - to zoom",
          typeRent: "Rent",
          typeSale: "For Sale"
        },
        ar: {
          pageTitlePrefix: "BrokerZ — ",
          back: "العودة إلى العقارات",
          tour: "احجز جولة",
          contact: "تواصل مع الوسيط",
          zoomHint: "استخدم السهمين يمين/يسار للتنقل، وعجلة الماوس أو + / - للتكبير",
          typeRent: "إيجار",
          typeSale: "للبيع"
        }
      };

      var propertiesAr = {
        "loft-downtown": {
          type: "إيجار",
          title: "لوفت فاخر في وسط المدينة",
          location: "القاهرة، مصر",
          description: "لوفت مفتوح بتصميم عصري وإضاءة طبيعية، قريب من المترو والمقاهي ومساحات العمل المشتركة.",
          features: ["غرفة نوم", "حمام", "900 قدم مربع", "استقبال 24/7", "روف لاونج"]
        },
        "family-house-garden": {
          type: "للبيع",
          title: "منزل عائلي بحديقة",
          location: "القاهرة الجديدة، مصر",
          description: "منزل واسع مناسب للعائلات في حي هادئ قريب من المدارس والحدائق.",
          features: ["4 غرف نوم", "3 حمامات", "2,450 قدم مربع", "حديقة كبيرة", "جراج سيارتين"]
        },
        "cozy-2br-beach": {
          type: "إيجار",
          title: "شقة غرفتين قرب البحر",
          location: "الإسكندرية، مصر",
          description: "شقة مشرقة بتشطيبات حديثة وعلى بعد دقائق من الكورنيش.",
          features: ["غرفتا نوم", "حمامان", "1,050 قدم مربع", "بلكونة", "مسموح بالحيوانات الأليفة"]
        },
        "modern-villa-pool": {
          type: "للبيع",
          title: "فيلا عصرية مع مسبح",
          location: "الجيزة، مصر",
          description: "فيلا حديثة بمساحات داخلية وخارجية واسعة ومسبح خاص بتصميم راقٍ.",
          features: ["5 غرف نوم", "4 حمامات", "3,900 قدم مربع", "مسبح إنفينيتي", "نظام منزل ذكي"]
        },
        "city-view-penthouse": {
          type: "إيجار",
          title: "بنتهاوس بإطلالة مدينة",
          location: "العاصمة الإدارية الجديدة، مصر",
          description: "بنتهاوس مرتفع بإطلالة بانورامية وأجهزة ممتازة ومدخل خاص.",
          features: ["3 غرف نوم", "حمامان", "1,600 قدم مربع", "واجهات زجاجية", "جيم متكامل"]
        },
        "suburban-4br-home": {
          type: "للبيع",
          title: "منزل ضواحي 4 غرف",
          location: "الغردقة، مصر",
          description: "منزل جاهز للسكن بتصميم محدث، مطبخ كبير، ومساحة مكتبية مرنة.",
          features: ["4 غرف نوم", "3 حمامات", "2,700 قدم مربع", "مكتب منزلي", "بدروم مجهز"]
        }
      };

      function setImage(index) {
        imageIndex = index;
        mainImage.src = data.images[index];
        mainImage.alt = activeData.title + " image " + (index + 1);
        zoomImage.src = data.images[index];
        zoomImage.alt = mainImage.alt;

        var thumbButtons = thumbGrid.querySelectorAll(".thumb-btn");
        thumbButtons.forEach(function (btn, i) {
          btn.classList.toggle("active", i === index);
        });
      }

      function setZoom(value) {
        zoom = Math.max(1, Math.min(4, value));
        zoomImage.style.transform = "scale(" + zoom + ")";
        zoomImage.style.cursor = zoom > 1 ? "move" : "zoom-in";
      }

      function showNextImage() {
        var nextIndex = (imageIndex + 1) % data.images.length;
        setImage(nextIndex);
        setZoom(1);
      }

      function showPrevImage() {
        var prevIndex = (imageIndex - 1 + data.images.length) % data.images.length;
        setImage(prevIndex);
        setZoom(1);
      }

      function openZoom() {
        zoomModal.classList.add("open");
        setZoom(1);
      }

      function closeZoom() {
        zoomModal.classList.remove("open");
      }

      function render() {
        var tr = i18n[currentLanguage];
        var localized = currentLanguage === "ar" ? (propertiesAr[id] || propertiesAr["loft-downtown"]) : data;
        activeData = {
          type: localized.type,
          title: localized.title,
          location: localized.location,
          price: data.price,
          description: localized.description,
          features: localized.features
        };

        document.documentElement.lang = currentLanguage;
        document.body.dir = currentLanguage === "ar" ? "rtl" : "ltr";
        document.title = tr.pageTitlePrefix + activeData.title;
        if (langToggle) langToggle.textContent = currentLanguage === "en" ? "AR" : "EN";
        document.getElementById("back-link").textContent = tr.back;
        document.getElementById("tour-btn").textContent = tr.tour;
        document.getElementById("contact-btn").textContent = tr.contact;
        document.getElementById("zoom-hint").textContent = tr.zoomHint;

        typeEl.textContent = activeData.type;
        titleEl.textContent = activeData.title;
        locationEl.textContent = activeData.location;
        priceEl.textContent = data.price;
        descriptionEl.textContent = activeData.description;

        featuresEl.innerHTML = "";
        activeData.features.forEach(function (feature) {
          var li = document.createElement("li");
          li.textContent = feature;
          featuresEl.appendChild(li);
        });

        thumbGrid.innerHTML = "";
        data.images.forEach(function (src, i) {
          var btn = document.createElement("button");
          btn.type = "button";
          btn.className = "thumb-btn";
          btn.setAttribute("aria-label", "View image " + (i + 1));
          btn.innerHTML = '<img class="thumb-img" src="' + src + '" alt="' + activeData.title + " thumbnail " + (i + 1) + '">';
          btn.addEventListener("click", function () { setImage(i); });
          thumbGrid.appendChild(btn);
        });

        setImage(0);
      }

      mainButton.addEventListener("click", openZoom);
      zoomCloseBtn.addEventListener("click", closeZoom);
      zoomInBtn.addEventListener("click", function () { setZoom(zoom + 0.2); });
      zoomOutBtn.addEventListener("click", function () { setZoom(zoom - 0.2); });
      zoomNextBtn.addEventListener("click", showNextImage);
      zoomPrevBtn.addEventListener("click", showPrevImage);
      if (langToggle) {
        langToggle.addEventListener("click", function () {
          currentLanguage = currentLanguage === "en" ? "ar" : "en";
          localStorage.setItem("brokerz_lang", currentLanguage);
          render();
        });
      }

      zoomModal.addEventListener("click", function (event) {
        if (event.target === zoomModal) closeZoom();
      });

      zoomImage.addEventListener("wheel", function (event) {
        event.preventDefault();
        var delta = event.deltaY > 0 ? -0.15 : 0.15;
        setZoom(zoom + delta);
      });

      document.addEventListener("keydown", function (event) {
        if (!zoomModal.classList.contains("open")) return;

        if (event.key === "Escape") {
          closeZoom();
        } else if (event.key === "ArrowRight") {
          showNextImage();
        } else if (event.key === "ArrowLeft") {
          showPrevImage();
        }
      });

      render();
    })();
  </script>
</body>
</html>
